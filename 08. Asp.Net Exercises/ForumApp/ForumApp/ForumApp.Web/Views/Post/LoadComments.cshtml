@using ForumApp.ViewModels.CommentModels
@model ForumApp.ViewModels.PostWithCommentsViewModel;

<h2 class="h2">@Model.PostTitle</h2>

<p class="fs-5">@Model.PostContent</p>


@{
    if (Model.Comments.Count > 0)
    {
        foreach (CommentViewModel comment in Model.Comments)
        {
            <div class="card">
                <div class="card-header">
                    Comment
                </div>
                <div class="card-body">
                    <blockquote class="blockquote mb-0">
                        <p>@comment.Content</p>
                        <footer class="blockquote-footer">Posted by: @comment.Username <cite title="Source Title">at @comment.PublishedDate.ToString("dd-MM-yyyy")</cite></footer>
                    </blockquote>
                </div>
            </div>
        }
    }
    else
    {
        <h2 class="h2">No comments already added on this post.</h2>
    }


}


@await Html.PartialAsync("_AddCommentFormPartial", new CommentViewModel(){ PostId = Model.PostId })
